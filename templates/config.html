{% extends "base.html" %}
{% block title %}Konfiguration{% endblock %}
{% block content %}
<div class="page-header">
    <h1><i class="bi bi-gear"></i> Konfiguration</h1>
    <p>Bearbeite die OpenClaw-Konfiguration direkt (für Fortgeschrittene).</p>
</div>

<div class="oc-alert oc-alert-warning">
    <i class="bi bi-exclamation-triangle"></i>
    <div>
        <strong>Achtung:</strong> Hier bearbeitest du die Konfigurationsdatei 
        <code>~/.openclaw/openclaw.json</code> direkt. Fehlerhafte Änderungen können dazu führen, 
        dass OpenClaw nicht mehr startet. Nutze den 
        <a href="{{ url_for('setup') }}" style="color: var(--oc-primary);">Einrichtungsassistenten</a> 
        für einfache Änderungen.
    </div>
</div>

{% if message %}
    {% if 'Fehler' in message %}
        <div class="oc-alert oc-alert-danger">
            <i class="bi bi-x-circle-fill"></i>
            <div>{{ message }}</div>
        </div>
    {% else %}
        <div class="oc-alert oc-alert-success">
            <i class="bi bi-check-circle-fill"></i>
            <div>{{ message }}</div>
        </div>
    {% endif %}
{% endif %}

<div class="oc-card">
    <div class="oc-card-header">
        <i class="bi bi-filetype-json"></i>
        <h3>openclaw.json</h3>
    </div>
    <form method="POST">
        <div class="mb-3">
            <textarea class="form-control" name="config_json" rows="20" 
                      style="font-family: 'JetBrains Mono', 'Cascadia Code', monospace; font-size: 0.85rem;">{{ config_json }}</textarea>
        </div>
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-oc">
                <i class="bi bi-save"></i> Speichern
            </button>
            <a href="https://docs.openclaw.ai/gateway/configuration" target="_blank" class="btn btn-oc-outline">
                <i class="bi bi-book"></i> Konfigurationsreferenz
            </a>
        </div>
    </form>
</div>
{% endblock %}
